!function(){"use strict";const e=document.querySelector(".profile__edit-button"),t=document.querySelector(".profile__add-button"),s={inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"},n=document.querySelector(".popup__form_type_profile"),r=document.querySelector(".popup__form_type_add-place"),i=document.querySelector(".profile__image-container"),o=document.querySelector(".popup__form_type_avatar");function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class l{constructor(e){a(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),a(this,"_handleOverlayClose",(e=>{e.target.classList.contains("popup")&&this.close()})),this._popupElement=document.querySelector(e),this.close=this.close.bind(this)}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleOverlayClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleOverlayClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleOverlayClose(e){e.target.classList.contains("popup")&&this.close()}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("click",this.close)}}class c extends l{constructor(e,t){var s,n;super(e),n=()=>{super.close(),this._formElement.reset()},(s="close")in this?Object.defineProperty(this,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[s]=n,this._formElement=this._popupElement.querySelector(".popup__form"),this._submitHandler=t,this._inputList=[...this._formElement.querySelectorAll(".form__input")],this._submitButton=this._formElement.querySelector(".form__button"),this._submitButtonText=this._submitButton.textContent}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(this._getInputValues())})),super.setEventListeners()}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}}class h{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_showInputError(e){const t=this._form.querySelector(".".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}_hideInputError(e){const t=this._form.querySelector(".".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInputs(){return this._inputList.some((e=>!e.validity.valid))}_disableButton(){this._button.disabled=!0,this._button.classList.add(this._inactiveButtonClass)}enableButton(){this._button.disabled=!1,this._button.classList.remove(this._inactiveButtonClass)}_toggleButton(){this._hasInvalidInputs()?this._disableButton():this.enableButton()}_setEventListeners(){this._inputList=[...this._form.querySelectorAll(this._inputSelector)],this._button=this._form.querySelector(this._submitButtonSelector),this._toggleButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>e.preventDefault())),this._setEventListeners()}resetFormButton(){this._disableButton()}hideErrors(){this._inputList.forEach((e=>{this._hideInputError(e)}))}}class _{constructor(e,t,s,n){let{handleCardClick:r,handleDeleteCard:i,handleLikeCard:o}=s;this._text=e.name,this._link=e.link,this._selector=t,this._handleCardClick=r,this._handleDeleteCard=i,this._handelLikeCard=o,this._id=e._id,this._userId=n,this._ownerId=e.owner._id,this._likes=e.likes}_getCloneFromTemplate(){return document.querySelector(this._selector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._element.addEventListener("click",(e=>{e.target===this._likeButton&&this._handelLikeCard(this._id),e.target===this._deleteButton&&this._handleDeleteCard(this._id),e.target===this._image&&this._handleCardClick(e)}))}removeCard(){this._element.remove(),this._element=null}likeCard(e){this._likeButton.classList.add("card__like-button_active"),this._likes=e,this._likeCount.textContent=this._likes.length}dislikeCard(e){this._likeButton.classList.remove("card__like-button_active"),this._likes=e,this._likeCount.textContent=this._likes.length}isLiked(){return this._likes.some((e=>e._id===this._userId))}generateCard(){return this._element=this._getCloneFromTemplate(),this._image=this._element.querySelector(".card__image"),this._likeButton=this._element.querySelector(".card__like-button"),this._element.querySelector(".card__title").textContent=this._text,this._image.src=this._link,this._image.alt="A beautiful scene in ".concat(this._text),this._deleteButton=this._element.querySelector(".card__delete-button"),this._ownerId!==this._userId&&(this._deleteButton.style.display="none"),this._likeCount=this._element.querySelector(".card__like-count"),this._likeCount.textContent=this._likes.length,this.isLiked()&&this.likeCard(this._likes),this._setEventListeners(),this._element}}const d=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject("Error ".concat(e.status))}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}setUserInfo(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}setUserAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._checkResponse)}createCard(e){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then(this._checkResponse)}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then(this._checkResponse)}likeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}).then(this._checkResponse)}dislikeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/group-1",headers:{authorization:"2aae8d26-8315-4517-953d-28905b81f143","Content-Type":"application/json"}}),u=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:m},".cards__list");let p;function m(e){const t=function(e){const t=new _(e,"#card-template",{handleCardClick:()=>{g.open(e.link,e.name)},handleDeleteCard:e=>{y.open(),y.setAction((()=>{d.deleteCard(e).then((e=>{console.log("card is deleted",e),t.removeCard()})).then((()=>{console.log("server deleted card"),y.close()})).catch((e=>console.log(e)))}))},handleLikeCard:e=>{t.isLiked()?d.dislikeCard(e).then((e=>{t.dislikeCard(e.likes),console.log("card is disliked",e)})).catch((e=>console.log(e))):d.likeCard(e).then((e=>{t.likeCard(e.likes),console.log("card is liked",e)})).catch((e=>console.log(e)))}},p);return t.generateCard()}(e);u.addItem(t)}Promise.all([d.getInitialCards(),d.getUserInfo()]).then((e=>{let[t,s]=e;p=s._id,u.renderItems(t),f.setUserInfo(s.name,s.about),f.setUserAvatar(s.avatar)})).catch((e=>console.log(e)));const v=new h(s,n),C=new h(s,r),b=new h(s,o);v.enableValidation(),C.enableValidation(),b.enableValidation();const f=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:n}=e;this._profileName=document.querySelector(t),this._profileJob=document.querySelector(s),this._avatar=document.querySelector(n),console.log(this._avatar)}getUserInfo(){return{name:this._profileName.textContent,title:this._profileJob.textContent}}setUserInfo(e,t){this._profileName.textContent=e,this._profileJob.textContent=t}setUserAvatar(e){this._avatar.src=e}}({nameSelector:".profile__name",jobSelector:".profile__title",avatarSelector:".profile__image"}),k=new c(".popup_type_edit-profile",(e=>{k.renderLoading(!0,"Saving..."),d.setUserInfo(e.name,e.title).then((e=>{f.setUserInfo(e.name,e.about),k.close()})).catch((e=>console.log(e))).finally((()=>k.renderLoading(!1)))}));k.setEventListeners();const E=new c(".popup_type_add-place",(e=>{E.renderLoading(!0,"Creating..."),d.createCard(e).then((e=>{m(e),E.close()})).catch((e=>console.log(e))).finally((()=>E.renderLoading(!1)))}));E.setEventListeners();const g=new class extends l{constructor(e){super(e),this._popupImage=this._popupElement.querySelector(".popup__image"),this._popupCaption=this._popupElement.querySelector(".popup__caption")}open(e,t){this._popupImage.src=e,this._popupImage.alt="A beautiful view of ".concat(t),this._popupCaption.textContent=t,super.open()}}(".popup_type_image-prev");g.setEventListeners();const y=new class extends l{setAction(e){this._submitHandler=e}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()})),super.setEventListeners()}}(".popup_type_delete-card");y.setEventListeners();const L=new c(".popup_type_avatar",(e=>{L.renderLoading(!0,"Saving avatar..."),d.setUserAvatar(e.link).then((e=>{f.setUserAvatar(e.avatar),L.close()})).catch((e=>console.log(e))).finally((()=>L.renderLoading(!1)))}));L.setEventListeners(),e.addEventListener("click",(()=>{const e=f.getUserInfo();k.setInputValues(e),v.hideErrors(),v.enableButton(),k.open()})),t.addEventListener("click",(()=>{C.resetFormButton(),E.open(),C.hideErrors()})),i.addEventListener("click",(()=>{b.resetFormButton(),L.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWNJLGlCQUFpQixVQUFXeUIsSUFDN0NBLEVBQUVDLGlCQUNGbkMsS0FBS29CLG9CQUVQSCxNQUFNSCxzQko2SjhCLDJCQUN4Q3VJLEVBQVl2SSxvQkFFWixNQUFNb0ssRUFBYyxJQUFJbkssRUFBYyxzQkFBdUJrQixJQUMzRGlKLEVBQVk5SSxlQUFjLEVBQU0sb0JBQ2hDdUUsRUFBQUEsY0FDaUIxRSxFQUFLMkMsTUFDbkI2QyxNQUFNUixJQUNMNkMsRUFBUzdCLGNBQWNoQixFQUFJeEgsUUFDM0J5TCxFQUFZakwsV0FFYndKLE9BQU9DLEdBQVFILFFBQVFDLElBQUlFLEtBQzNCaUIsU0FBUSxJQUFNTyxFQUFZOUksZUFBYyxRQUU3QzhJLEVBQVlwSyxvQkFLWmpDLEVBQWtCNEIsaUJBQWlCLFNBQVMsS0FDMUMsTUFBTTBLLEVBQU9yQixFQUFTcEMsY0FDdEJnRCxFQUFVMUksZUFBZW1KLEdBQ3pCcEIsRUFBcUI1RixhQUNyQjRGLEVBQXFCakcsZUFDckI0RyxFQUFVbkssVUFHWnZCLEVBQWV5QixpQkFBaUIsU0FBUyxLQUN2Q3VKLEVBQWlCOUYsa0JBQ2pCMEcsRUFBYXJLLE9BQ2J5SixFQUFpQjdGLGdCQUduQjFFLEVBQU9nQixpQkFBaUIsU0FBUyxLQUMvQndKLEVBQW9CL0Ysa0JBQ3BCZ0gsRUFBWTNLLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly95Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8veS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8veS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8veS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly95Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3kvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3kvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly95Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBhZGRQbGFjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcblxuY29uc3QgdmFsaWRhdGlvbkNvbmZpZ3VyYXRpb25zID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfcHJvZmlsZVwiKTtcblxuY29uc3QgcGxhY2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX2FkZC1wbGFjZVwiKTtcblxuY29uc3QgY2FyZFRlbXBsYXRlU2VsZWN0b3IgPSBcIiNjYXJkLXRlbXBsYXRlXCI7XG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLWNvbnRhaW5lclwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3R5cGVfYXZhdGFyXCIpO1xuXG5leHBvcnQge1xuICBhdmF0YXIsXG4gIGF2YXRhckZvcm0sXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxuICBhZGRQbGFjZUJ1dHRvbixcbiAgdmFsaWRhdGlvbkNvbmZpZ3VyYXRpb25zLFxuICBwcm9maWxlRm9ybSxcbiAgcGxhY2VGb3JtLFxuICBjYXJkVGVtcGxhdGVTZWxlY3Rvcixcbn07XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XG4gIH1cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvblwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIC8vY29sbGVjdHMgZGF0YSBmcm9tIGFsbCB0aGUgaW5wdXQgZmllbGRzIGFuZCByZXR1cm5zIHRoYXQgZGF0YSBhcyBhbiBvYmplY3QuXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vSXQgbW9kaWZpZXMgdGhlIHNldEV2ZW50TGlzdGVuZXJzKCkgcGFyZW50IG1ldGhvZC4gVGhlIHNldEV2ZW50TGlzdGVuZXJzKCkgbWV0aG9kIG9mIHRoZVxuICAgIC8vUG9wdXBXaXRoRm9ybSBjbGFzcyBoYXMgdG8gYWRkIHRoZSBzdWJtaXQgZXZlbnQgaGFuZGxlciB0byB0aGUgZm9ybSBhbmQgdGhlXG4gICAgLy9jbGljayBldmVudCBsaXN0ZW5lciB0byB0aGUgY2xvc2UgaWNvbi5cbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgLy9JdCBtb2RpZmllcyB0aGUgY2xvc2UoKSBwYXJlbnQgbWV0aG9kIGluIG9yZGVyIHRvIHJlc2V0IHRoZSBmb3JtIG9uY2UgdGhlIHBvcHVwIGlzIGNsb3NlZC5cbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gIH07XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9ucywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZ3VyYXRpb25zLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWd1cmF0aW9ucy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlndXJhdGlvbnMuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWd1cmF0aW9ucy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZ3VyYXRpb25zLmVycm9yQ2xhc3M7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0cygpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9XG5cbiAgZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0cygpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlc2V0Rm9ybUJ1dHRvbigpIHtcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gIH1cblxuICBoaWRlRXJyb3JzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBzZWxlY3RvcixcbiAgICB7IGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCwgaGFuZGxlTGlrZUNhcmQgfSxcbiAgICB1c2VySWRcbiAgKSB7XG4gICAgdGhpcy5fdGV4dCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xuICAgIHRoaXMuX2hhbmRlbExpa2VDYXJkID0gaGFuZGxlTGlrZUNhcmQ7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgfVxuXG4gIF9nZXRDbG9uZUZyb21UZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX2xpa2VCdXR0b24pIHtcbiAgICAgICAgdGhpcy5faGFuZGVsTGlrZUNhcmQodGhpcy5faWQpO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX2RlbGV0ZUJ1dHRvbikge1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2lkKTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9pbWFnZSkge1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soZXZ0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGxpa2VDYXJkKG5ld0xpa2VzKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIC8vIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCA9IG5ld0xpa2VzQ291bnQ7XG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChuZXdMaWtlcykge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICAvLyB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSBuZXdMaWtlc0NvdW50O1xuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XG4gICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldENsb25lRnJvbVRlbXBsYXRlKCk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcblxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBgQSBiZWF1dGlmdWwgc2NlbmUgaW4gJHt0aGlzLl90ZXh0fWA7XG5cbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcblxuICAgIHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCAmJlxuICAgICAgKHRoaXMuX2RlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpO1xuXG4gICAgdGhpcy5fbGlrZUNvdW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIik7XG4gICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5pc0xpa2VkKCkgJiYgdGhpcy5saWtlQ2FyZCh0aGlzLl9saWtlcyk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgc2V0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKHVybCkge1xuICAgIC8vIFNlbmQgdGhlIGZvbGxvd2luZyBQQVRDSCByZXF1ZXN0IHRvIGNoYW5nZSB0aGUgcHJvZmlsZSBwaWN0dXJlOlxuICAgIC8vIFBBVENIIGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXBJZC91c2Vycy9tZS9hdmF0YXJcbiAgICAvLyBJbiB0aGUgcmVxdWVzdCBib2R5LCBwYXNzIHRoZSBKU09OIHdpdGggYSBzaW5nbGUgcHJvcGVydHksIGF2YXRhci4gVGhpcyBwcm9wZXJ0eSBzaG91bGQgY29udGFpbiBhIGxpbmsgdG8gdGhlIG5ldyBwcm9maWxlIHBpY3R1cmUuIEluIHRoZSBjYXNlIHRoYXQgYW55dGhpbmcgb3RoZXIgdGhhbiBhIGxpbmsgaXMgc2VudCwgdGhlIHNlcnZlciB3aWxsIHJldHVybiBhbiBlcnJvci5cbiAgICAvLyBXaGVuIHRoZSB1c2VyIGhvdmVycyBvdmVyIHRoZWlyIHByb2ZpbGUgcGljdHVyZSwgdGhlIGVkaXQgaWNvbiBzaG91bGQgYXBwZWFyIG9uIGl0OlxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogdXJsLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMmFhZThkMjYtODMxNS00NTE3LTk1M2QtMjg5MDViODFmMTQzXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcbiIsIi8vLy8vIEltcG9ydGluZyBzdHlsZXMgZm9yIHdlYnBhY2sgdG8gY29ubmVjdFxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuLy8vL0ltcG9ydHNcbmltcG9ydCB7XG4gIGVkaXRQcm9maWxlQnV0dG9uLFxuICBhZGRQbGFjZUJ1dHRvbixcbiAgdmFsaWRhdGlvbkNvbmZpZ3VyYXRpb25zLFxuICBwcm9maWxlRm9ybSxcbiAgcGxhY2VGb3JtLFxuICBjYXJkVGVtcGxhdGVTZWxlY3RvcixcbiAgYXZhdGFyLFxuICBhdmF0YXJGb3JtLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5cbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5cbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXRcIjtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyogICBJbml0aWFsIENhcmQgQ3JlYXRpb24gICAqL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBwbGFjZXNTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCxcbiAgfSxcbiAgXCIuY2FyZHNfX2xpc3RcIlxuKTtcblxubGV0IHVzZXJJZDtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKVxuICAudGhlbigoW2NhcmRzLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgcGxhY2VzU2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIodXNlckRhdGEuYXZhdGFyKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgZGF0YSxcbiAgICBjYXJkVGVtcGxhdGVTZWxlY3RvcixcbiAgICB7XG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaW1hZ2VQb3B1cC5vcGVuKGRhdGEubGluaywgZGF0YS5uYW1lKTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVEZWxldGVDYXJkOiAoaWQpID0+IHtcbiAgICAgICAgZGVsZXRlUG9wdXAub3BlbigpO1xuXG4gICAgICAgIGRlbGV0ZVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgLy8gc3VibWl0IG1vZGFsXG4gICAgICAgICAgYXBpXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZChpZClcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjYXJkIGlzIGRlbGV0ZWRcIiwgcmVzKTtcbiAgICAgICAgICAgICAgLy9yZW1vdmUgaXQgZnJvbSBET01cbiAgICAgICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlcnZlciBkZWxldGVkIGNhcmRcIik7XG4gICAgICAgICAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVMaWtlQ2FyZDogKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzTGlrZWQgPSBjYXJkLmlzTGlrZWQoKTtcblxuICAgICAgICBpZiAoaXNMaWtlZCkge1xuICAgICAgICAgIC8vZGlzbGlrZSBjYXJkXG4gICAgICAgICAgYXBpXG4gICAgICAgICAgICAuZGlzbGlrZUNhcmQoaWQpXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmQuZGlzbGlrZUNhcmQocmVzLmxpa2VzKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjYXJkIGlzIGRpc2xpa2VkXCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vbGlrZSBjYXJkXG4gICAgICAgICAgYXBpXG4gICAgICAgICAgICAubGlrZUNhcmQoaWQpXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmQubGlrZUNhcmQocmVzLmxpa2VzKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjYXJkIGlzIGxpa2VkXCIsIHJlcyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgLy9jb21wYXJpbmcgdXNlcklkIHRvIGNhcmRJZFxuICAgIHVzZXJJZFxuICApO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQ2FyZChkYXRhKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBnZW5lcmF0ZUNhcmQoZGF0YSk7XG4gIHBsYWNlc1NlY3Rpb24uYWRkSXRlbShlbGVtZW50KTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKiAgICAgRm9ybSBWYWxpZGF0aW9uIEluc3RhbnRpYXRpb24gICAgKi9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uQ29uZmlndXJhdGlvbnMsXG4gIHByb2ZpbGVGb3JtXG4pO1xuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWd1cmF0aW9ucywgcGxhY2VGb3JtKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uQ29uZmlndXJhdGlvbnMsXG4gIGF2YXRhckZvcm1cbik7XG5cbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyogICAgIFBvcHVwIEluc3RhbnRpYXRpb24gICAgKi9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIsIChkYXRhKSA9PiB7XG4gIGVkaXRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLnRpdGxlKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpO1xuICAgICAgZWRpdFBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiBlZGl0UG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSkpO1xufSk7XG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGQtcGxhY2VcIiwgKGRhdGEpID0+IHtcbiAgYWRkQ2FyZFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCJDcmVhdGluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICByZW5kZXJDYXJkKHJlcyk7XG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IGFkZENhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG59KTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfaW1hZ2UtcHJldlwiKTtcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoU3VibWl0KFwiLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmRcIik7XG5kZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsIChkYXRhKSA9PiB7XG4gIGF2YXRhclBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSwgXCJTYXZpbmcgYXZhdGFyLi4uXCIpO1xuICBhcGlcbiAgICAuc2V0VXNlckF2YXRhcihkYXRhLmxpbmspXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihyZXMuYXZhdGFyKTtcbiAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiBhdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XG59KTtcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRXZlbnQgTGlzdGVuZXJzXG4vLy8vLy8vLy8vLy8vLy8vLy9cbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IGluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBlZGl0UG9wdXAuc2V0SW5wdXRWYWx1ZXMoaW5mbyk7XG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLmhpZGVFcnJvcnMoKTtcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlQnV0dG9uKCk7XG4gIGVkaXRQb3B1cC5vcGVuKCk7XG59KTtcblxuYWRkUGxhY2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldEZvcm1CdXR0b24oKTtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbiAgYWRkRm9ybVZhbGlkYXRvci5oaWRlRXJyb3JzKCk7XG59KTtcblxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRGb3JtQnV0dG9uKCk7XG4gIGF2YXRhclBvcHVwLm9wZW4oKTtcbn0pO1xuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgLy8gdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLl9hdmF0YXIpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgdGl0bGU6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyhuYW1lLCBqb2IpIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxuXG4gIC8vc2V0IHVwIHdpdGggYXZhdGFyRWxlbWVudCBwYXJhbWV0ZXIgc28gdGhhdCBpbWFnZSBjYW4gYmUgYWRkZWQgdG8gRE9NIG9ubHkgYWZ0ZXIgc3VjY2Vzc2Z1bGx5IGZldGNoZWQgZnJvbSBzZXJ2ZXJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG4gIH1cblxuICBvcGVuKGltYWdlLCBjYXB0aW9uKSB7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBpbWFnZTtcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGBBIGJlYXV0aWZ1bCB2aWV3IG9mICR7Y2FwdGlvbn1gO1xuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbi50ZXh0Q29udGVudCA9IGNhcHRpb247XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XG4gIHNldEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZWRpdFByb2ZpbGVCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRQbGFjZUJ1dHRvbiIsInZhbGlkYXRpb25Db25maWd1cmF0aW9ucyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZUZvcm0iLCJwbGFjZUZvcm0iLCJhdmF0YXIiLCJhdmF0YXJGb3JtIiwiUG9wdXAiLCJjb25zdHJ1Y3RvciIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJ0aGlzIiwiY2xvc2UiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIl9wb3B1cEVsZW1lbnQiLCJiaW5kIiwib3BlbiIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEhhbmRsZXIiLCJzdXBlciIsIl9mb3JtRWxlbWVudCIsInJlc2V0IiwiX3N1Ym1pdEhhbmRsZXIiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uVGV4dCIsInRleHRDb250ZW50IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJuYW1lIiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsImRhdGEiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlndXJhdGlvbnMiLCJmb3JtRWxlbWVudCIsIl9mb3JtIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXRzIiwic29tZSIsIl9kaXNhYmxlQnV0dG9uIiwiX2J1dHRvbiIsImRpc2FibGVkIiwiZW5hYmxlQnV0dG9uIiwiX3RvZ2dsZUJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldEZvcm1CdXR0b24iLCJoaWRlRXJyb3JzIiwiQ2FyZCIsInNlbGVjdG9yIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VDYXJkIiwiX3RleHQiLCJfbGluayIsImxpbmsiLCJfc2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfaGFuZGVsTGlrZUNhcmQiLCJfaWQiLCJfdXNlcklkIiwiX293bmVySWQiLCJvd25lciIsIl9saWtlcyIsImxpa2VzIiwiX2dldENsb25lRnJvbVRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX2ltYWdlIiwicmVtb3ZlQ2FyZCIsImxpa2VDYXJkIiwibmV3TGlrZXMiLCJfbGlrZUNvdW50IiwibGVuZ3RoIiwiZGlzbGlrZUNhcmQiLCJpc0xpa2VkIiwibGlrZSIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInN0eWxlIiwiZGlzcGxheSIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0VXNlckF2YXRhciIsInVybCIsImNyZWF0ZUNhcmQiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwiYXV0aG9yaXphdGlvbiIsInBsYWNlc1NlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsInByZXBlbmQiLCJyZW5kZXJDYXJkIiwiZWxlbWVudCIsImNhcmQiLCJpbWFnZVBvcHVwIiwiZGVsZXRlUG9wdXAiLCJzZXRBY3Rpb24iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhbGwiLCJjYXJkcyIsInVzZXJEYXRhIiwidXNlckluZm8iLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImFkZEZvcm1WYWxpZGF0b3IiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSm9iIiwiX2F2YXRhciIsInRpdGxlIiwiam9iIiwiZWRpdFBvcHVwIiwiZmluYWxseSIsImFkZENhcmRQb3B1cCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwQ2FwdGlvbiIsImltYWdlIiwiY2FwdGlvbiIsImFjdGlvbiIsImF2YXRhclBvcHVwIiwiaW5mbyJdLCJzb3VyY2VSb290IjoiIn0=